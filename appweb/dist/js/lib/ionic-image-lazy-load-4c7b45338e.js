angular.module("ionicLazyLoad",[]),angular.module("ionicLazyLoad").directive("lazyScroll",["$rootScope",function(e){return{restrict:"A",link:function(a,o){var i=a.$onScroll;a.$onScroll=function(){e.$broadcast("lazyScrollEvent"),"function"==typeof i&&i()}}}}]).directive("imageLazySrc",["$document","$timeout","$ionicScrollDelegate","$compile",function(e,a,o,i){return{restrict:"A",scope:{lazyScrollResize:"@lazyScrollResize",imageLazyBackgroundImage:"@imageLazyBackgroundImage",imageLazySrc:"@"},link:function(n,r,t){function c(){if(r.bind("load",function(e){t.imageLazyLoader&&m.remove(),"true"==n.lazyScrollResize&&o.resize(),r.unbind("load")}),"true"==n.imageLazyBackgroundImage){var e=new Image;e.onload=function(){t.imageLazyLoader&&m.remove(),r[0].style.backgroundImage="url("+t.imageLazySrc+")","true"==n.lazyScrollResize&&o.resize()},e.src=t.imageLazySrc}else r[0].src=t.imageLazySrc}function l(){var a=e[0].documentElement.clientHeight,o=e[0].documentElement.clientWidth,i=r[0].getBoundingClientRect();return i.top>=0&&i.top<=a+parseInt(t.imageLazyDistanceFromBottomToLoad)&&i.left>=0&&i.left<=o+parseInt(t.imageLazyDistanceFromRightToLoad)}t.imageLazyDistanceFromBottomToLoad||(t.imageLazyDistanceFromBottomToLoad=0),t.imageLazyDistanceFromRightToLoad||(t.imageLazyDistanceFromRightToLoad=0);var m;t.imageLazyLoader&&(m=i('<div class="image-loader-container"><ion-spinner class="image-loader" icon="'+t.imageLazyLoader+'"></ion-spinner></div>')(n),r.after(m)),n.$watch("imageLazySrc",function(e,o){m&&m.remove(),t.imageLazyLoader&&(m=i('<div class="image-loader-container"><ion-spinner class="image-loader" icon="'+t.imageLazyLoader+'"></ion-spinner></div>')(n),r.after(m));var g=n.$on("lazyScrollEvent",function(){l()&&(c(),g())});a(function(){l()&&(c(),g())},500)});var g=n.$on("lazyScrollEvent",function(){l()&&(c(),g())});r.on("$destroy",function(){g()}),a(function(){l()&&(c(),g())},500)}}}]);
//# sourceMappingURL=map/ionic-image-lazy-load-4c7b45338e.js.map
