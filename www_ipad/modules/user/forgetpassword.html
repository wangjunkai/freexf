<ion-modal-view ng-controller="forgetpassword_ctrl" view-title="忘记密码">
  <ion-header-bar default-header-bar class="freexf-bar lightgray">
    <div class="bar-left">
      <button class="button-clear freexf-back freexf-left" ng-click="$modal._back()">
        <i class="icon freexf-goback"></i>
      </button>
    </div>
    <div class="title">忘记密码</div>
  </ion-header-bar>
  <ion-content class="forgetpassword">
    <form name="forgetForm" novalidate="novalidate">
      <div class="list">
        <label class="item item-input item-floating-label">
          <span class="input-label">{{forget.labelphone}}</span>
          <input type="text" placeholder="{{forget.labelphone}}" name="phone" ng-model="forget.phone" fx-validate="require:phone;format:phone;" id="isLabelPhone">
        </label>
        <div class="item item-input item-floating-label">
          <span class="input-label">{{forget.labelcode}}</span>
          <div class="input-left-box">
            <input type="text" placeholder="{{forget.labelcode}}" name="code" class="inputCode" ng-model="forget.code" fx-validate="require:imgCode;"id="isLabelCode">
          </div>
          <div class="codeBox">
            <div class="CodeImg">

              <img style="width:100%" src="{{CodeImg.img}}" id="isCodeImg"/>

            </div>
            <div class="CodeButton">
              <a ng-click="CodeImg.getNew()">看不清楚？换一张</a>
            </div>
          </div>
        </div>
        <div class="item item-input item-floating-label">
          <span class="input-label">{{forget.labelphonecode}}</span>
          <div class="input-left-box">
            <input type="text" placeholder="{{forget.labelphonecode}}" class="inputCode" ng-model="forget.phonecode" id="isLabelPhoneCode" fx-validate="require:phoneCode">
          </div>
          <button class="small-idcode-button" ng-click="PhoneCode($event,forgetForm)" type="button" fx-validate="submit('phone','code')" id="isPhoneCode">获取验证码
          </button>
        </div>
        <label class="item item-input item-floating-label">
          <span class="input-label">{{forget.labelpassword}}</span>
          <input type="password" placeholder="{{forget.labelpassword}}" name="password" ng-model="forget.password" id="isForgetPassword"  fx-validate="require:password;format:password8_30;">
        </label>
        <label class="item item-input item-floating-label">
          <span class="input-label {{forgetForm.confirmPassword.$invalid || forget.password!=forget.confirmPassword}}">{{forget.labelconfirmPassword}}</span>
          <input type="password" placeholder="{{forget.labelconfirmPassword}}" name="confirmPassword" id="isLabelConfirmPassword"
                 ng-model="forget.confirmPassword" ng-change="passwordAccord()" fx-validate="require:confirmPassword;format:password8_30;">
        </label>
      </div>
      <div class="freexf-padding-24">

        <button class="button button-block freexf-button-balanced freexf-margin-bottom-30" id="isChangePasswordBtn"
                ng-click="forgetpassword($event,forgetForm)" fx-validate="submit()">
          修改密码
        </button>

      </div>
    </form>
  </ion-content>

</ion-modal-view>


